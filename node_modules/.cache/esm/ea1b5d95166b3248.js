let postModel;_166‍.x([["addPost",()=>addPost],["getAllPosts",()=>getAllPosts],["getPostsByUserId",()=>getPostsByUserId],["updatePost",()=>updatePost],["deletePost",()=>deletePost]]);_166‍.w("../models/index.mjs",[["postModel",["postModel"],function(v){postModel=v}]]);function cov_1070rbzr5z(){var path="/home/thaerbraizat/back-end/controllers/posts.controller.mjs";var hash="0ee910809077a2f92e5ad31f312d9101c40ab773";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/thaerbraizat/back-end/controllers/posts.controller.mjs",statementMap:{"0":{start:{line:3,column:23},end:{line:10,column:1}},"1":{start:{line:4,column:17},end:{line:8,column:6}},"2":{start:{line:9,column:4},end:{line:9,column:16}},"3":{start:{line:13,column:27},end:{line:16,column:1}},"4":{start:{line:14,column:18},end:{line:14,column:43}},"5":{start:{line:15,column:2},end:{line:15,column:17}},"6":{start:{line:18,column:32},end:{line:22,column:1}},"7":{start:{line:19,column:17},end:{line:19,column:34}},"8":{start:{line:20,column:16},end:{line:20,column:70}},"9":{start:{line:21,column:2},end:{line:21,column:14}},"10":{start:{line:24,column:26},end:{line:44,column:1}},"11":{start:{line:25,column:13},end:{line:25,column:36}},"12":{start:{line:26,column:18},end:{line:26,column:33}},"13":{start:{line:27,column:18},end:{line:37,column:3}},"14":{start:{line:38,column:2},end:{line:42,column:3}},"15":{start:{line:39,column:2},end:{line:39,column:29}},"16":{start:{line:41,column:4},end:{line:41,column:29}},"17":{start:{line:46,column:26},end:{line:54,column:1}},"18":{start:{line:47,column:13},end:{line:47,column:36}},"19":{start:{line:48,column:16},end:{line:48,column:62}},"20":{start:{line:49,column:2},end:{line:49,column:38}},"21":{start:{line:49,column:13},end:{line:49,column:38}},"22":{start:{line:50,column:2},end:{line:50,column:49}},"23":{start:{line:51,column:2},end:{line:51,column:27}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:3,column:23},end:{line:3,column:24}},loc:{start:{line:3,column:43},end:{line:10,column:1}},line:3},"1":{name:"(anonymous_1)",decl:{start:{line:13,column:27},end:{line:13,column:28}},loc:{start:{line:13,column:47},end:{line:16,column:1}},line:13},"2":{name:"(anonymous_2)",decl:{start:{line:18,column:32},end:{line:18,column:33}},loc:{start:{line:18,column:52},end:{line:22,column:1}},line:18},"3":{name:"(anonymous_3)",decl:{start:{line:24,column:26},end:{line:24,column:27}},loc:{start:{line:24,column:46},end:{line:44,column:1}},line:24},"4":{name:"(anonymous_4)",decl:{start:{line:46,column:26},end:{line:46,column:27}},loc:{start:{line:46,column:46},end:{line:54,column:1}},line:46}},branchMap:{"0":{loc:{start:{line:38,column:2},end:{line:42,column:3}},type:"if",locations:[{start:{line:38,column:2},end:{line:42,column:3}},{start:{line:38,column:2},end:{line:42,column:3}}],line:38},"1":{loc:{start:{line:49,column:2},end:{line:49,column:38}},type:"if",locations:[{start:{line:49,column:2},end:{line:49,column:38}},{start:{line:49,column:2},end:{line:49,column:38}}],line:49}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0ee910809077a2f92e5ad31f312d9101c40ab773"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1070rbzr5z=function(){return actualCoverage;};}return actualCoverage;}cov_1070rbzr5z();cov_1070rbzr5z().s[0]++;       const addPost=async(req,res)=>{cov_1070rbzr5z().f[0]++;const note=(cov_1070rbzr5z().s[1]++,await postModel.create({body:req.body.body,title:req.body.title,userId:req.user.userId}));cov_1070rbzr5z().s[2]++;return note;};cov_1070rbzr5z().s[3]++;       const getAllPosts=async(req,res)=>{cov_1070rbzr5z().f[1]++;const allData=(cov_1070rbzr5z().s[4]++,await postModel.findAll());cov_1070rbzr5z().s[5]++;return allData;};cov_1070rbzr5z().s[6]++;       const getPostsByUserId=async(req,res)=>{cov_1070rbzr5z().f[2]++;const userId=(cov_1070rbzr5z().s[7]++,req.params.userId);const notes=(cov_1070rbzr5z().s[8]++,await postModel.findAll({where:{userId:userId}}));cov_1070rbzr5z().s[9]++;return notes;};cov_1070rbzr5z().s[10]++;       const updatePost=async(req,res)=>{cov_1070rbzr5z().f[3]++;const id=(cov_1070rbzr5z().s[11]++,parseInt(req.params.id));const userId=(cov_1070rbzr5z().s[12]++,req.user.userId);const updated=(cov_1070rbzr5z().s[13]++,await postModel.update({body:req.body.body,title:req.body.title,id:id,userId:userId},{where:{id:id}}));cov_1070rbzr5z().s[14]++;if(updated[0]>0){cov_1070rbzr5z().b[0][0]++;cov_1070rbzr5z().s[15]++;return"post updated !!";}else{cov_1070rbzr5z().b[0][1]++;cov_1070rbzr5z().s[16]++;throw new Error('failed');}};cov_1070rbzr5z().s[17]++;       const deletePost=async(req,res)=>{cov_1070rbzr5z().f[4]++;const id=(cov_1070rbzr5z().s[18]++,parseInt(req.params.id));const valid=(cov_1070rbzr5z().s[19]++,await postModel.findOne({where:{id:id}}));cov_1070rbzr5z().s[20]++;if(!valid){cov_1070rbzr5z().b[1][0]++;cov_1070rbzr5z().s[21]++;throw new Error('failed');}else{cov_1070rbzr5z().b[1][1]++;}cov_1070rbzr5z().s[22]++;await postModel.destroy({where:{id:id}});cov_1070rbzr5z().s[23]++;return"post deleted !!";};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3RzLmNvbnRyb2xsZXIubWpzIl0sIm5hbWVzIjpbInBvc3RNb2RlbCIsImFkZFBvc3QiLCJyZXEiLCJyZXMiLCJub3RlIiwiY3JlYXRlIiwiYm9keSIsInRpdGxlIiwidXNlcklkIiwidXNlciIsImdldEFsbFBvc3RzIiwiYWxsRGF0YSIsImZpbmRBbGwiLCJnZXRQb3N0c0J5VXNlcklkIiwicGFyYW1zIiwibm90ZXMiLCJ3aGVyZSIsInVwZGF0ZVBvc3QiLCJpZCIsInBhcnNlSW50IiwidXBkYXRlZCIsInVwZGF0ZSIsIkVycm9yIiwiZGVsZXRlUG9zdCIsInZhbGlkIiwiZmluZE9uZSIsImRlc3Ryb3kiXSwibWFwcGluZ3MiOiJvc0dBZVk7MkZBZlosT0FBU0EsU0FBVCxLQUEwQixxQkFBMUIsQyx3QkFFQSxNQUFPLE1BQU1DLENBQUFBLE9BQU8sQ0FBRyxNQUFPQyxHQUFQLENBQVlDLEdBQVosR0FBb0IseUJBQ3ZDLEtBQU1DLENBQUFBLElBQUksMEJBQUcsS0FBTUosQ0FBQUEsU0FBUyxDQUFDSyxNQUFWLENBQWlCLENBQ2xDQyxJQUFJLENBQUVKLEdBQUcsQ0FBQ0ksSUFBSixDQUFTQSxJQURtQixDQUVsQ0MsS0FBSyxDQUFFTCxHQUFHLENBQUNJLElBQUosQ0FBU0MsS0FGa0IsQ0FHbENDLE1BQU0sQ0FBRU4sR0FBRyxDQUFDTyxJQUFKLENBQVNELE1BSGlCLENBQWpCLENBQVQsQ0FBVixDQUR1Qyx3QkFNdkMsTUFBT0osQ0FBQUEsSUFBUCxDQUNILENBUE0sQyx3QkFVUCxNQUFPLE1BQU1NLENBQUFBLFdBQVcsQ0FBRyxNQUFPUixHQUFQLENBQVlDLEdBQVosR0FBb0IseUJBQzdDLEtBQU1RLENBQUFBLE9BQU8sMEJBQUcsS0FBTVgsQ0FBQUEsU0FBUyxDQUFDWSxPQUFWLEVBQVQsQ0FBYixDQUQ2Qyx3QkFFN0MsTUFBT0QsQ0FBQUEsT0FBUCxDQUNELENBSE0sQyx3QkFLUCxNQUFPLE1BQU1FLENBQUFBLGdCQUFnQixDQUFHLE1BQU9YLEdBQVAsQ0FBWUMsR0FBWixHQUFvQix5QkFDbEQsS0FBTUssQ0FBQUEsTUFBTSwwQkFBR04sR0FBRyxDQUFDWSxNQUFKLENBQVdOLE1BQWQsQ0FBWixDQUNBLEtBQU1PLENBQUFBLEtBQUssMEJBQUcsS0FBTWYsQ0FBQUEsU0FBUyxDQUFDWSxPQUFWLENBQWtCLENBQUVJLEtBQUssQ0FBRSxDQUFFUixNQUFNLENBQUVBLE1BQVYsQ0FBVCxDQUFsQixDQUFULENBQVgsQ0FGa0Qsd0JBR2xELE1BQU9PLENBQUFBLEtBQVAsQ0FDRCxDQUpNLEMseUJBTVAsTUFBTyxNQUFNRSxDQUFBQSxVQUFVLENBQUcsTUFBT2YsR0FBUCxDQUFZQyxHQUFaLEdBQW9CLHlCQUM1QyxLQUFNZSxDQUFBQSxFQUFFLDJCQUFHQyxRQUFRLENBQUNqQixHQUFHLENBQUNZLE1BQUosQ0FBV0ksRUFBWixDQUFYLENBQVIsQ0FDQSxLQUFNVixDQUFBQSxNQUFNLDJCQUFJTixHQUFHLENBQUNPLElBQUosQ0FBU0QsTUFBYixDQUFaLENBQ0EsS0FBTVksQ0FBQUEsT0FBTywyQkFBRyxLQUFNcEIsQ0FBQUEsU0FBUyxDQUFDcUIsTUFBVixDQUNwQixDQUNFZixJQUFJLENBQUVKLEdBQUcsQ0FBQ0ksSUFBSixDQUFTQSxJQURqQixDQUVFQyxLQUFLLENBQUVMLEdBQUcsQ0FBQ0ksSUFBSixDQUFTQyxLQUZsQixDQUdFVyxFQUFFLENBQUVBLEVBSE4sQ0FJRVYsTUFBTSxDQUFFQSxNQUpWLENBRG9CLENBT3BCLENBQ0VRLEtBQUssQ0FBRSxDQUFFRSxFQUFFLENBQUVBLEVBQU4sQ0FEVCxDQVBvQixDQUFULENBQWIsQ0FINEMseUJBYzVDLEdBQUdFLE9BQU8sQ0FBQyxDQUFELENBQVAsQ0FBWSxDQUFmLENBQWlCLHFEQUNqQixNQUFRLGlCQUFSLENBQ0MsQ0FGRCxJQUVLLHFEQUNILEtBQU0sSUFBSUUsQ0FBQUEsS0FBSixDQUFVLFFBQVYsQ0FBTixDQUNELENBRUYsQ0FwQk0sQyx5QkFzQlAsTUFBTyxNQUFNQyxDQUFBQSxVQUFVLENBQUcsTUFBT3JCLEdBQVAsQ0FBWUMsR0FBWixHQUFvQix5QkFDNUMsS0FBTWUsQ0FBQUEsRUFBRSwyQkFBR0MsUUFBUSxDQUFDakIsR0FBRyxDQUFDWSxNQUFKLENBQVdJLEVBQVosQ0FBWCxDQUFSLENBQ0EsS0FBTU0sQ0FBQUEsS0FBSywyQkFBRyxLQUFNeEIsQ0FBQUEsU0FBUyxDQUFDeUIsT0FBVixDQUFrQixDQUFFVCxLQUFLLENBQUUsQ0FBRUUsRUFBRSxDQUFFQSxFQUFOLENBQVQsQ0FBbEIsQ0FBVCxDQUFYLENBRjRDLHlCQUc1QyxHQUFHLENBQUNNLEtBQUosQ0FBVywwREFBTSxJQUFJRixDQUFBQSxLQUFKLENBQVUsUUFBVixDQUFOLENBQXlCLENBQXBDLGlDQUg0Qyx5QkFJNUMsS0FBTXRCLENBQUFBLFNBQVMsQ0FBQzBCLE9BQVYsQ0FBa0IsQ0FBRVYsS0FBSyxDQUFFLENBQUVFLEVBQUUsQ0FBRUEsRUFBTixDQUFULENBQWxCLENBQU4sQ0FKNEMseUJBSzVDLE1BQU8saUJBQVAsQ0FHRCxDQVJNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcG9zdE1vZGVsIH0gZnJvbSBcIi4uL21vZGVscy9pbmRleC5tanNcIjtcblxuZXhwb3J0IGNvbnN0IGFkZFBvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBub3RlID0gYXdhaXQgcG9zdE1vZGVsLmNyZWF0ZSh7XG4gICAgICBib2R5OiByZXEuYm9keS5ib2R5LFxuICAgICAgdGl0bGU6IHJlcS5ib2R5LnRpdGxlLFxuICAgICAgdXNlcklkOiByZXEudXNlci51c2VySWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIG5vdGU7XG59O1xuXG5cbmV4cG9ydCBjb25zdCBnZXRBbGxQb3N0cyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBhbGxEYXRhID0gYXdhaXQgcG9zdE1vZGVsLmZpbmRBbGwoKTtcbiAgcmV0dXJuIGFsbERhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0UG9zdHNCeVVzZXJJZCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB1c2VySWQgPSByZXEucGFyYW1zLnVzZXJJZDtcbiAgY29uc3Qgbm90ZXMgPSBhd2FpdCBwb3N0TW9kZWwuZmluZEFsbCh7IHdoZXJlOiB7IHVzZXJJZDogdXNlcklkIH0gfSk7XG4gIHJldHVybiBub3Rlc1xufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVBvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgaWQgPSBwYXJzZUludChyZXEucGFyYW1zLmlkKTtcbiAgY29uc3QgdXNlcklkICA9IHJlcS51c2VyLnVzZXJJZDtcbiAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IHBvc3RNb2RlbC51cGRhdGUoXG4gICAge1xuICAgICAgYm9keTogcmVxLmJvZHkuYm9keSxcbiAgICAgIHRpdGxlOiByZXEuYm9keS50aXRsZSxcbiAgICAgIGlkOiBpZCxcbiAgICAgIHVzZXJJZDogdXNlcklkLFxuICAgIH0sXG4gICAge1xuICAgICAgd2hlcmU6IHsgaWQ6IGlkIH0sXG4gICAgfVxuICApO1xuICBpZih1cGRhdGVkWzBdPiAwKXtcbiAgcmV0dXJuIChcInBvc3QgdXBkYXRlZCAhIVwiKTtcbiAgfWVsc2V7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdmYWlsZWQnKVxuICB9XG4gXG59O1xuXG5leHBvcnQgY29uc3QgZGVsZXRlUG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBpZCA9IHBhcnNlSW50KHJlcS5wYXJhbXMuaWQpO1xuICBjb25zdCB2YWxpZCA9IGF3YWl0IHBvc3RNb2RlbC5maW5kT25lKHsgd2hlcmU6IHsgaWQ6IGlkIH0gfSk7XG4gIGlmKCF2YWxpZCkgdGhyb3cgbmV3IEVycm9yKCdmYWlsZWQnKVxuICBhd2FpdCBwb3N0TW9kZWwuZGVzdHJveSh7IHdoZXJlOiB7IGlkOiBpZCB9IH0pO1xuICByZXR1cm4gXCJwb3N0IGRlbGV0ZWQgISFcIjtcbiBcbiAgXG59O1xuIl19