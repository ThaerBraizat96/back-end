"use strict";;let bcrypt,userModel,jwt;_bf8‍.x([["signup",()=>signup]]);_bf8‍.w("bcrypt",[["default",["bcrypt"],function(v){bcrypt=v}]]);_bf8‍.w("../models/index.mjs",[["userModel",["userModel"],function(v){userModel=v}]]);_bf8‍.w("jsonwebtoken",[["default",["jwt"],function(v){jwt=v}]]);function cov_1twqgwvv4e(){var path="/home/thaerbraizat/back-end/controllers/signup.controller.mjs";var hash="59a73b9e137e0d9dea2751427c886657dad8f74e";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/thaerbraizat/back-end/controllers/signup.controller.mjs",statementMap:{"0":{start:{line:6,column:15},end:{line:6,column:50}},"1":{start:{line:8,column:22},end:{line:24,column:1}},"2":{start:{line:9,column:2},end:{line:23,column:3}},"3":{start:{line:10,column:21},end:{line:10,column:61}},"4":{start:{line:11,column:19},end:{line:14,column:6}},"5":{start:{line:15,column:22},end:{line:18,column:5}},"6":{start:{line:19,column:4},end:{line:19,column:47}},"7":{start:{line:20,column:4},end:{line:20,column:18}},"8":{start:{line:22,column:4},end:{line:22,column:38}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:8,column:22},end:{line:8,column:23}},loc:{start:{line:8,column:48},end:{line:24,column:1}},line:8}},branchMap:{"0":{loc:{start:{line:6,column:15},end:{line:6,column:50}},type:"binary-expr",locations:[{start:{line:6,column:15},end:{line:6,column:33}},{start:{line:6,column:37},end:{line:6,column:50}}],line:6}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},f:{"0":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"59a73b9e137e0d9dea2751427c886657dad8f74e"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1twqgwvv4e=function(){return actualCoverage;};}return actualCoverage;}cov_1twqgwvv4e();const SECRET=(cov_1twqgwvv4e().s[0]++,(cov_1twqgwvv4e().b[0][0]++,process.env.SECRET)||(cov_1twqgwvv4e().b[0][1]++,"mysecretkey"));cov_1twqgwvv4e().s[1]++;       const signup=async(req,res,next)=>{cov_1twqgwvv4e().f[0]++;cov_1twqgwvv4e().s[2]++;try{const password=(cov_1twqgwvv4e().s[3]++,await bcrypt.hash(req.body.password,10));const record=(cov_1twqgwvv4e().s[4]++,await userModel.create({username:req.body.username,password:password}));const tokenTest=(cov_1twqgwvv4e().s[5]++,jwt.sign({username:req.body.username,userId:record.dataValues.id},SECRET));cov_1twqgwvv4e().s[6]++;record.dataValues["tokenTest"]=tokenTest;cov_1twqgwvv4e().s[7]++;return record;}catch(e){cov_1twqgwvv4e().s[8]++;throw new Error("invalid signup");}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpZ251cC5jb250cm9sbGVyLm1qcyJdLCJuYW1lcyI6WyJiY3J5cHQiLCJ1c2VyTW9kZWwiLCJqd3QiLCJTRUNSRVQiLCJwcm9jZXNzIiwiZW52Iiwic2lnbnVwIiwicmVxIiwicmVzIiwibmV4dCIsInBhc3N3b3JkIiwiaGFzaCIsImJvZHkiLCJyZWNvcmQiLCJjcmVhdGUiLCJ1c2VybmFtZSIsInRva2VuVGVzdCIsInNpZ24iLCJ1c2VySWQiLCJkYXRhVmFsdWVzIiwiaWQiLCJlIiwiRXJyb3IiXSwibWFwcGluZ3MiOiJBQUFBLGEsMitDQWVZOzJGQWRaLE1BQU9BLENBQUFBLE1BQVAsS0FBbUIsUUFBbkIsQ0FDQSxPQUFTQyxTQUFULEtBQTBCLHFCQUExQixDQUNBLE1BQU9DLENBQUFBLEdBQVAsS0FBZ0IsY0FBaEIsQ0FFQSxLQUFNQyxDQUFBQSxNQUFNLDBCQUFHLDRCQUFBQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsTUFBWiwrQkFBc0IsYUFBdEIsQ0FBSCxDQUFaLEMsd0JBRUEsTUFBTyxNQUFNRyxDQUFBQSxNQUFNLENBQUcsTUFBT0MsR0FBUCxDQUFZQyxHQUFaLENBQWlCQyxJQUFqQixHQUEwQixpREFDOUMsR0FBSSxDQUNGLEtBQU1DLENBQUFBLFFBQVEsMEJBQUcsS0FBTVYsQ0FBQUEsTUFBTSxDQUFDVyxJQUFQLENBQVlKLEdBQUcsQ0FBQ0ssSUFBSixDQUFTRixRQUFyQixDQUErQixFQUEvQixDQUFULENBQWQsQ0FDQSxLQUFNRyxDQUFBQSxNQUFNLDBCQUFHLEtBQU1aLENBQUFBLFNBQVMsQ0FBQ2EsTUFBVixDQUFpQixDQUNwQ0MsUUFBUSxDQUFFUixHQUFHLENBQUNLLElBQUosQ0FBU0csUUFEaUIsQ0FFcENMLFFBQVEsQ0FBRUEsUUFGMEIsQ0FBakIsQ0FBVCxDQUFaLENBSUEsS0FBTU0sQ0FBQUEsU0FBUywwQkFBR2QsR0FBRyxDQUFDZSxJQUFKLENBQ2hCLENBQUVGLFFBQVEsQ0FBRVIsR0FBRyxDQUFDSyxJQUFKLENBQVNHLFFBQXJCLENBQStCRyxNQUFNLENBQUVMLE1BQU0sQ0FBQ00sVUFBUCxDQUFrQkMsRUFBekQsQ0FEZ0IsQ0FFaEJqQixNQUZnQixDQUFILENBQWYsQ0FORSx3QkFVRlUsTUFBTSxDQUFDTSxVQUFQLENBQWtCLFdBQWxCLEVBQWlDSCxTQUFqQyxDQVZFLHdCQVdGLE1BQU9ILENBQUFBLE1BQVAsQ0FDRCxDQUFDLE1BQU9RLENBQVAsQ0FBVSx5QkFDVixLQUFNLElBQUlDLENBQUFBLEtBQUosQ0FBVSxnQkFBVixDQUFOLENBQ0QsQ0FDRixDQWhCTSIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0XCI7XG5pbXBvcnQgeyB1c2VyTW9kZWwgfSBmcm9tIFwiLi4vbW9kZWxzL2luZGV4Lm1qc1wiO1xuaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCI7XG5cbmNvbnN0IFNFQ1JFVCA9IHByb2Nlc3MuZW52LlNFQ1JFVCB8fCBcIm15c2VjcmV0a2V5XCI7XG5cbmV4cG9ydCBjb25zdCBzaWdudXAgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBwYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgY29uc3QgcmVjb3JkID0gYXdhaXQgdXNlck1vZGVsLmNyZWF0ZSh7XG4gICAgICB1c2VybmFtZTogcmVxLmJvZHkudXNlcm5hbWUsXG4gICAgICBwYXNzd29yZDogcGFzc3dvcmQsXG4gICAgfSk7XG4gICAgY29uc3QgdG9rZW5UZXN0ID0gand0LnNpZ24oXG4gICAgICB7IHVzZXJuYW1lOiByZXEuYm9keS51c2VybmFtZSwgdXNlcklkOiByZWNvcmQuZGF0YVZhbHVlcy5pZCB9LFxuICAgICAgU0VDUkVUXG4gICAgKTtcbiAgICByZWNvcmQuZGF0YVZhbHVlc1tcInRva2VuVGVzdFwiXSA9IHRva2VuVGVzdDtcbiAgICByZXR1cm4gcmVjb3JkO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBzaWdudXBcIik7XG4gIH1cbn07XG4iXX0=