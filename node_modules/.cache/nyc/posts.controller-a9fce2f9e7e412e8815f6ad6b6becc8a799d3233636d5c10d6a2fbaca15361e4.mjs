function cov_1070rbzr5z(){var path="/home/thaerbraizat/back-end/controllers/posts.controller.mjs";var hash="fb3632ec1189c6d0d9cb6015bd812c995c65d5cd";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/thaerbraizat/back-end/controllers/posts.controller.mjs",statementMap:{"0":{start:{line:3,column:23},end:{line:14,column:1}},"1":{start:{line:5,column:17},end:{line:9,column:6}},"2":{start:{line:10,column:4},end:{line:10,column:16}},"3":{start:{line:17,column:27},end:{line:20,column:1}},"4":{start:{line:18,column:18},end:{line:18,column:43}},"5":{start:{line:19,column:2},end:{line:19,column:17}},"6":{start:{line:22,column:32},end:{line:26,column:1}},"7":{start:{line:23,column:17},end:{line:23,column:34}},"8":{start:{line:24,column:16},end:{line:24,column:70}},"9":{start:{line:25,column:2},end:{line:25,column:14}},"10":{start:{line:28,column:26},end:{line:48,column:1}},"11":{start:{line:29,column:13},end:{line:29,column:36}},"12":{start:{line:30,column:18},end:{line:30,column:33}},"13":{start:{line:31,column:18},end:{line:41,column:3}},"14":{start:{line:42,column:2},end:{line:46,column:3}},"15":{start:{line:43,column:2},end:{line:43,column:29}},"16":{start:{line:45,column:4},end:{line:45,column:29}},"17":{start:{line:50,column:26},end:{line:64,column:1}},"18":{start:{line:51,column:13},end:{line:51,column:36}},"19":{start:{line:52,column:16},end:{line:52,column:62}},"20":{start:{line:53,column:2},end:{line:53,column:38}},"21":{start:{line:53,column:13},end:{line:53,column:38}},"22":{start:{line:54,column:2},end:{line:54,column:28}},"23":{start:{line:55,column:2},end:{line:55,column:49}},"24":{start:{line:56,column:2},end:{line:56,column:27}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:3,column:23},end:{line:3,column:24}},loc:{start:{line:3,column:43},end:{line:14,column:1}},line:3},"1":{name:"(anonymous_1)",decl:{start:{line:17,column:27},end:{line:17,column:28}},loc:{start:{line:17,column:47},end:{line:20,column:1}},line:17},"2":{name:"(anonymous_2)",decl:{start:{line:22,column:32},end:{line:22,column:33}},loc:{start:{line:22,column:52},end:{line:26,column:1}},line:22},"3":{name:"(anonymous_3)",decl:{start:{line:28,column:26},end:{line:28,column:27}},loc:{start:{line:28,column:46},end:{line:48,column:1}},line:28},"4":{name:"(anonymous_4)",decl:{start:{line:50,column:26},end:{line:50,column:27}},loc:{start:{line:50,column:46},end:{line:64,column:1}},line:50}},branchMap:{"0":{loc:{start:{line:42,column:2},end:{line:46,column:3}},type:"if",locations:[{start:{line:42,column:2},end:{line:46,column:3}},{start:{line:42,column:2},end:{line:46,column:3}}],line:42},"1":{loc:{start:{line:53,column:2},end:{line:53,column:38}},type:"if",locations:[{start:{line:53,column:2},end:{line:53,column:38}},{start:{line:53,column:2},end:{line:53,column:38}}],line:53}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fb3632ec1189c6d0d9cb6015bd812c995c65d5cd"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1070rbzr5z=function(){return actualCoverage;};}return actualCoverage;}cov_1070rbzr5z();import{postModel}from"../models/index.mjs";cov_1070rbzr5z().s[0]++;export const addPost=async(req,res)=>{cov_1070rbzr5z().f[0]++;// try {
const note=(cov_1070rbzr5z().s[1]++,await postModel.create({body:req.body.body,title:req.body.title,userId:req.user.userId}));cov_1070rbzr5z().s[2]++;return note;// } catch {
//   return "Cant add post"
// }
};cov_1070rbzr5z().s[3]++;export const getAllPosts=async(req,res)=>{cov_1070rbzr5z().f[1]++;const allData=(cov_1070rbzr5z().s[4]++,await postModel.findAll());cov_1070rbzr5z().s[5]++;return allData;};cov_1070rbzr5z().s[6]++;export const getPostsByUserId=async(req,res)=>{cov_1070rbzr5z().f[2]++;const userId=(cov_1070rbzr5z().s[7]++,req.params.userId);const notes=(cov_1070rbzr5z().s[8]++,await postModel.findAll({where:{userId:userId}}));cov_1070rbzr5z().s[9]++;return notes;};cov_1070rbzr5z().s[10]++;export const updatePost=async(req,res)=>{cov_1070rbzr5z().f[3]++;const id=(cov_1070rbzr5z().s[11]++,parseInt(req.params.id));const userId=(cov_1070rbzr5z().s[12]++,req.user.userId);const updated=(cov_1070rbzr5z().s[13]++,await postModel.update({body:req.body.body,title:req.body.title,id:id,userId:userId},{where:{id:id}}));cov_1070rbzr5z().s[14]++;if(updated[0]>0){cov_1070rbzr5z().b[0][0]++;cov_1070rbzr5z().s[15]++;return"post updated !!";}else{cov_1070rbzr5z().b[0][1]++;cov_1070rbzr5z().s[16]++;throw new Error('failed');}};cov_1070rbzr5z().s[17]++;export const deletePost=async(req,res)=>{cov_1070rbzr5z().f[4]++;const id=(cov_1070rbzr5z().s[18]++,parseInt(req.params.id));const valid=(cov_1070rbzr5z().s[19]++,await postModel.findOne({where:{id:id}}));cov_1070rbzr5z().s[20]++;if(!valid){cov_1070rbzr5z().b[1][0]++;cov_1070rbzr5z().s[21]++;throw new Error('failed');}else{cov_1070rbzr5z().b[1][1]++;}cov_1070rbzr5z().s[22]++;console.log(valid.length);cov_1070rbzr5z().s[23]++;await postModel.destroy({where:{id:id}});cov_1070rbzr5z().s[24]++;return"post deleted !!";// if (valid.length != 0) {
// else {
//   return "Cant delete";
// }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3RzLmNvbnRyb2xsZXIubWpzIl0sIm5hbWVzIjpbInBvc3RNb2RlbCIsImFkZFBvc3QiLCJyZXEiLCJyZXMiLCJub3RlIiwiY3JlYXRlIiwiYm9keSIsInRpdGxlIiwidXNlcklkIiwidXNlciIsImdldEFsbFBvc3RzIiwiYWxsRGF0YSIsImZpbmRBbGwiLCJnZXRQb3N0c0J5VXNlcklkIiwicGFyYW1zIiwibm90ZXMiLCJ3aGVyZSIsInVwZGF0ZVBvc3QiLCJpZCIsInBhcnNlSW50IiwidXBkYXRlZCIsInVwZGF0ZSIsIkVycm9yIiwiZGVsZXRlUG9zdCIsInZhbGlkIiwiZmluZE9uZSIsImNvbnNvbGUiLCJsb2ciLCJsZW5ndGgiLCJkZXN0cm95Il0sIm1hcHBpbmdzIjoicXdHQWVZOzJGQWZaLE9BQVNBLFNBQVQsS0FBMEIscUJBQTFCLEMsd0JBRUEsTUFBTyxNQUFNQyxDQUFBQSxPQUFPLENBQUcsTUFBT0MsR0FBUCxDQUFZQyxHQUFaLEdBQW9CLHlCQUN6QztBQUNFLEtBQU1DLENBQUFBLElBQUksMEJBQUcsS0FBTUosQ0FBQUEsU0FBUyxDQUFDSyxNQUFWLENBQWlCLENBQ2xDQyxJQUFJLENBQUVKLEdBQUcsQ0FBQ0ksSUFBSixDQUFTQSxJQURtQixDQUVsQ0MsS0FBSyxDQUFFTCxHQUFHLENBQUNJLElBQUosQ0FBU0MsS0FGa0IsQ0FHbENDLE1BQU0sQ0FBRU4sR0FBRyxDQUFDTyxJQUFKLENBQVNELE1BSGlCLENBQWpCLENBQVQsQ0FBVixDQUZ1Qyx3QkFPdkMsTUFBT0osQ0FBQUEsSUFBUCxDQUNGO0FBQ0E7QUFDQTtBQUNELENBWE0sQyx3QkFjUCxNQUFPLE1BQU1NLENBQUFBLFdBQVcsQ0FBRyxNQUFPUixHQUFQLENBQVlDLEdBQVosR0FBb0IseUJBQzdDLEtBQU1RLENBQUFBLE9BQU8sMEJBQUcsS0FBTVgsQ0FBQUEsU0FBUyxDQUFDWSxPQUFWLEVBQVQsQ0FBYixDQUQ2Qyx3QkFFN0MsTUFBT0QsQ0FBQUEsT0FBUCxDQUNELENBSE0sQyx3QkFLUCxNQUFPLE1BQU1FLENBQUFBLGdCQUFnQixDQUFHLE1BQU9YLEdBQVAsQ0FBWUMsR0FBWixHQUFvQix5QkFDbEQsS0FBTUssQ0FBQUEsTUFBTSwwQkFBR04sR0FBRyxDQUFDWSxNQUFKLENBQVdOLE1BQWQsQ0FBWixDQUNBLEtBQU1PLENBQUFBLEtBQUssMEJBQUcsS0FBTWYsQ0FBQUEsU0FBUyxDQUFDWSxPQUFWLENBQWtCLENBQUVJLEtBQUssQ0FBRSxDQUFFUixNQUFNLENBQUVBLE1BQVYsQ0FBVCxDQUFsQixDQUFULENBQVgsQ0FGa0Qsd0JBR2xELE1BQU9PLENBQUFBLEtBQVAsQ0FDRCxDQUpNLEMseUJBTVAsTUFBTyxNQUFNRSxDQUFBQSxVQUFVLENBQUcsTUFBT2YsR0FBUCxDQUFZQyxHQUFaLEdBQW9CLHlCQUM1QyxLQUFNZSxDQUFBQSxFQUFFLDJCQUFHQyxRQUFRLENBQUNqQixHQUFHLENBQUNZLE1BQUosQ0FBV0ksRUFBWixDQUFYLENBQVIsQ0FDQSxLQUFNVixDQUFBQSxNQUFNLDJCQUFJTixHQUFHLENBQUNPLElBQUosQ0FBU0QsTUFBYixDQUFaLENBQ0EsS0FBTVksQ0FBQUEsT0FBTywyQkFBRyxLQUFNcEIsQ0FBQUEsU0FBUyxDQUFDcUIsTUFBVixDQUNwQixDQUNFZixJQUFJLENBQUVKLEdBQUcsQ0FBQ0ksSUFBSixDQUFTQSxJQURqQixDQUVFQyxLQUFLLENBQUVMLEdBQUcsQ0FBQ0ksSUFBSixDQUFTQyxLQUZsQixDQUdFVyxFQUFFLENBQUVBLEVBSE4sQ0FJRVYsTUFBTSxDQUFFQSxNQUpWLENBRG9CLENBT3BCLENBQ0VRLEtBQUssQ0FBRSxDQUFFRSxFQUFFLENBQUVBLEVBQU4sQ0FEVCxDQVBvQixDQUFULENBQWIsQ0FINEMseUJBYzVDLEdBQUdFLE9BQU8sQ0FBQyxDQUFELENBQVAsQ0FBWSxDQUFmLENBQWlCLHFEQUNqQixNQUFRLGlCQUFSLENBQ0MsQ0FGRCxJQUVLLHFEQUNILEtBQU0sSUFBSUUsQ0FBQUEsS0FBSixDQUFVLFFBQVYsQ0FBTixDQUNELENBRUYsQ0FwQk0sQyx5QkFzQlAsTUFBTyxNQUFNQyxDQUFBQSxVQUFVLENBQUcsTUFBT3JCLEdBQVAsQ0FBWUMsR0FBWixHQUFvQix5QkFDNUMsS0FBTWUsQ0FBQUEsRUFBRSwyQkFBR0MsUUFBUSxDQUFDakIsR0FBRyxDQUFDWSxNQUFKLENBQVdJLEVBQVosQ0FBWCxDQUFSLENBQ0EsS0FBTU0sQ0FBQUEsS0FBSywyQkFBRyxLQUFNeEIsQ0FBQUEsU0FBUyxDQUFDeUIsT0FBVixDQUFrQixDQUFFVCxLQUFLLENBQUUsQ0FBRUUsRUFBRSxDQUFFQSxFQUFOLENBQVQsQ0FBbEIsQ0FBVCxDQUFYLENBRjRDLHlCQUc1QyxHQUFHLENBQUNNLEtBQUosQ0FBVywwREFBTSxJQUFJRixDQUFBQSxLQUFKLENBQVUsUUFBVixDQUFOLENBQXlCLENBQXBDLGlDQUg0Qyx5QkFJNUNJLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSCxLQUFLLENBQUNJLE1BQWxCLEVBSjRDLHlCQUs1QyxLQUFNNUIsQ0FBQUEsU0FBUyxDQUFDNkIsT0FBVixDQUFrQixDQUFFYixLQUFLLENBQUUsQ0FBRUUsRUFBRSxDQUFFQSxFQUFOLENBQVQsQ0FBbEIsQ0FBTixDQUw0Qyx5QkFNNUMsTUFBTyxpQkFBUCxDQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0QsQ0FkTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBvc3RNb2RlbCB9IGZyb20gXCIuLi9tb2RlbHMvaW5kZXgubWpzXCI7XG5cbmV4cG9ydCBjb25zdCBhZGRQb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIC8vIHRyeSB7XG4gICAgY29uc3Qgbm90ZSA9IGF3YWl0IHBvc3RNb2RlbC5jcmVhdGUoe1xuICAgICAgYm9keTogcmVxLmJvZHkuYm9keSxcbiAgICAgIHRpdGxlOiByZXEuYm9keS50aXRsZSxcbiAgICAgIHVzZXJJZDogcmVxLnVzZXIudXNlcklkLFxuICAgIH0pO1xuICAgIHJldHVybiBub3RlO1xuICAvLyB9IGNhdGNoIHtcbiAgLy8gICByZXR1cm4gXCJDYW50IGFkZCBwb3N0XCJcbiAgLy8gfVxufTtcblxuXG5leHBvcnQgY29uc3QgZ2V0QWxsUG9zdHMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgYWxsRGF0YSA9IGF3YWl0IHBvc3RNb2RlbC5maW5kQWxsKCk7XG4gIHJldHVybiBhbGxEYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFBvc3RzQnlVc2VySWQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgdXNlcklkID0gcmVxLnBhcmFtcy51c2VySWQ7XG4gIGNvbnN0IG5vdGVzID0gYXdhaXQgcG9zdE1vZGVsLmZpbmRBbGwoeyB3aGVyZTogeyB1c2VySWQ6IHVzZXJJZCB9IH0pO1xuICByZXR1cm4gbm90ZXNcbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVQb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IGlkID0gcGFyc2VJbnQocmVxLnBhcmFtcy5pZCk7XG4gIGNvbnN0IHVzZXJJZCAgPSByZXEudXNlci51c2VySWQ7XG4gIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCBwb3N0TW9kZWwudXBkYXRlKFxuICAgIHtcbiAgICAgIGJvZHk6IHJlcS5ib2R5LmJvZHksXG4gICAgICB0aXRsZTogcmVxLmJvZHkudGl0bGUsXG4gICAgICBpZDogaWQsXG4gICAgICB1c2VySWQ6IHVzZXJJZCxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdoZXJlOiB7IGlkOiBpZCB9LFxuICAgIH1cbiAgKTtcbiAgaWYodXBkYXRlZFswXT4gMCl7XG4gIHJldHVybiAoXCJwb3N0IHVwZGF0ZWQgISFcIik7XG4gIH1lbHNle1xuICAgIHRocm93IG5ldyBFcnJvcignZmFpbGVkJylcbiAgfVxuIFxufTtcblxuZXhwb3J0IGNvbnN0IGRlbGV0ZVBvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgaWQgPSBwYXJzZUludChyZXEucGFyYW1zLmlkKTtcbiAgY29uc3QgdmFsaWQgPSBhd2FpdCBwb3N0TW9kZWwuZmluZE9uZSh7IHdoZXJlOiB7IGlkOiBpZCB9IH0pO1xuICBpZighdmFsaWQpIHRocm93IG5ldyBFcnJvcignZmFpbGVkJylcbiAgY29uc29sZS5sb2codmFsaWQubGVuZ3RoKTtcbiAgYXdhaXQgcG9zdE1vZGVsLmRlc3Ryb3koeyB3aGVyZTogeyBpZDogaWQgfSB9KTtcbiAgcmV0dXJuIFwicG9zdCBkZWxldGVkICEhXCI7XG4gXG4gXG4gIC8vIGlmICh2YWxpZC5sZW5ndGggIT0gMCkge1xuICBcbiAgLy8gZWxzZSB7XG4gIC8vICAgcmV0dXJuIFwiQ2FudCBkZWxldGVcIjtcbiAgLy8gfVxufTtcbiJdfQ==