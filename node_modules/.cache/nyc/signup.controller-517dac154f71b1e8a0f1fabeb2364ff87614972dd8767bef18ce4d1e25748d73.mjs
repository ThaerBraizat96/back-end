'use strict';function cov_1twqgwvv4e(){var path="/home/thaerbraizat/back-end/controllers/signup.controller.mjs";var hash="b9fda18fe360a6aefe0cd7350c54b54f4eb61edb";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/thaerbraizat/back-end/controllers/signup.controller.mjs",statementMap:{"0":{start:{line:6,column:15},end:{line:6,column:50}},"1":{start:{line:8,column:22},end:{line:25,column:1}},"2":{start:{line:9,column:4},end:{line:24,column:5}},"3":{start:{line:10,column:25},end:{line:10,column:65}},"4":{start:{line:11,column:8},end:{line:11,column:67}},"5":{start:{line:12,column:23},end:{line:15,column:10}},"6":{start:{line:16,column:24},end:{line:16,column:72}},"7":{start:{line:20,column:8},end:{line:20,column:51}},"8":{start:{line:21,column:8},end:{line:21,column:25}},"9":{start:{line:23,column:8},end:{line:23,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:8,column:22},end:{line:8,column:23}},loc:{start:{line:8,column:48},end:{line:25,column:1}},line:8}},branchMap:{"0":{loc:{start:{line:6,column:15},end:{line:6,column:50}},type:"binary-expr",locations:[{start:{line:6,column:15},end:{line:6,column:33}},{start:{line:6,column:37},end:{line:6,column:50}}],line:6}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},f:{"0":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b9fda18fe360a6aefe0cd7350c54b54f4eb61edb"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1twqgwvv4e=function(){return actualCoverage;};}return actualCoverage;}cov_1twqgwvv4e();import bcrypt from'bcrypt';import{userModel}from'../models/index.mjs';import jwt from"jsonwebtoken";const SECRET=(cov_1twqgwvv4e().s[0]++,(cov_1twqgwvv4e().b[0][0]++,process.env.SECRET)||(cov_1twqgwvv4e().b[0][1]++,"mysecretkey"));cov_1twqgwvv4e().s[1]++;export const signup=async(req,res,next)=>{cov_1twqgwvv4e().f[0]++;cov_1twqgwvv4e().s[2]++;try{const password=(cov_1twqgwvv4e().s[3]++,await bcrypt.hash(req.body.password,10));cov_1twqgwvv4e().s[4]++;console.log("req.body.password teeeeeeeeeeeest:",req.body);const record=(cov_1twqgwvv4e().s[5]++,await userModel.create({username:req.body.username,password:password}));const tokenTest=(cov_1twqgwvv4e().s[6]++,jwt.sign({username:req.body.username},SECRET));// console.log("tesssst token",tokenTest);
// console.log("recordrecordrecordrecord",record);
cov_1twqgwvv4e().s[7]++;record.dataValues["tokenTest"]=tokenTest;cov_1twqgwvv4e().s[8]++;res.json(record);}catch(e){cov_1twqgwvv4e().s[9]++;next("invalid signup");}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpZ251cC5jb250cm9sbGVyLm1qcyJdLCJuYW1lcyI6WyJiY3J5cHQiLCJ1c2VyTW9kZWwiLCJqd3QiLCJTRUNSRVQiLCJwcm9jZXNzIiwiZW52Iiwic2lnbnVwIiwicmVxIiwicmVzIiwibmV4dCIsInBhc3N3b3JkIiwiaGFzaCIsImJvZHkiLCJjb25zb2xlIiwibG9nIiwicmVjb3JkIiwiY3JlYXRlIiwidXNlcm5hbWUiLCJ0b2tlblRlc3QiLCJzaWduIiwiZGF0YVZhbHVlcyIsImpzb24iLCJlIl0sIm1hcHBpbmdzIjoiQUFBQSxhLDBpREFlWTsyRkFkWixNQUFPQSxDQUFBQSxNQUFQLEtBQW1CLFFBQW5CLENBQ0EsT0FBUUMsU0FBUixLQUF3QixxQkFBeEIsQ0FDQSxNQUFPQyxDQUFBQSxHQUFQLEtBQWdCLGNBQWhCLENBRUEsS0FBTUMsQ0FBQUEsTUFBTSwwQkFBRyw0QkFBQUMsT0FBTyxDQUFDQyxHQUFSLENBQVlGLE1BQVosK0JBQXNCLGFBQXRCLENBQUgsQ0FBWixDLHdCQUVBLE1BQU8sTUFBTUcsQ0FBQUEsTUFBTSxDQUFHLE1BQU9DLEdBQVAsQ0FBWUMsR0FBWixDQUFpQkMsSUFBakIsR0FBMEIsaURBQzVDLEdBQUksQ0FDQSxLQUFNQyxDQUFBQSxRQUFRLDBCQUFHLEtBQU1WLENBQUFBLE1BQU0sQ0FBQ1csSUFBUCxDQUFZSixHQUFHLENBQUNLLElBQUosQ0FBU0YsUUFBckIsQ0FBK0IsRUFBL0IsQ0FBVCxDQUFkLENBREEsd0JBRUFHLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLG9DQUFaLENBQWtEUCxHQUFHLENBQUNLLElBQXRELEVBQ0EsS0FBTUcsQ0FBQUEsTUFBTSwwQkFBRyxLQUFNZCxDQUFBQSxTQUFTLENBQUNlLE1BQVYsQ0FBaUIsQ0FDbENDLFFBQVEsQ0FBRVYsR0FBRyxDQUFDSyxJQUFKLENBQVNLLFFBRGUsQ0FFbENQLFFBQVEsQ0FBRUEsUUFGd0IsQ0FBakIsQ0FBVCxDQUFaLENBSUEsS0FBTVEsQ0FBQUEsU0FBUywwQkFBQ2hCLEdBQUcsQ0FBQ2lCLElBQUosQ0FBUyxDQUFFRixRQUFRLENBQUVWLEdBQUcsQ0FBQ0ssSUFBSixDQUFTSyxRQUFyQixDQUFULENBQXlDZCxNQUF6QyxDQUFELENBQWYsQ0FDQTtBQUNBO0FBVEEsd0JBV0FZLE1BQU0sQ0FBQ0ssVUFBUCxDQUFrQixXQUFsQixFQUFpQ0YsU0FBakMsQ0FYQSx3QkFZQVYsR0FBRyxDQUFDYSxJQUFKLENBQVNOLE1BQVQsRUFDSCxDQUFDLE1BQU9PLENBQVAsQ0FBVSx5QkFDUmIsSUFBSSxDQUFDLGdCQUFELENBQUosQ0FDSCxDQUNKLENBakJNIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHQnO1xuaW1wb3J0IHt1c2VyTW9kZWx9IGZyb20gJy4uL21vZGVscy9pbmRleC5tanMnO1xuaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCI7XG5cbmNvbnN0IFNFQ1JFVCA9IHByb2Nlc3MuZW52LlNFQ1JFVCB8fCBcIm15c2VjcmV0a2V5XCI7XG5cbmV4cG9ydCBjb25zdCBzaWdudXAgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwicmVxLmJvZHkucGFzc3dvcmQgdGVlZWVlZWVlZWVlZXN0OlwiLCByZXEuYm9keSlcbiAgICAgICAgY29uc3QgcmVjb3JkID0gYXdhaXQgdXNlck1vZGVsLmNyZWF0ZSh7XG4gICAgICAgICAgICB1c2VybmFtZTogcmVxLmJvZHkudXNlcm5hbWUsXG4gICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB0b2tlblRlc3Q9and0LnNpZ24oeyB1c2VybmFtZTogcmVxLmJvZHkudXNlcm5hbWV9LCBTRUNSRVQpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcInRlc3Nzc3QgdG9rZW5cIix0b2tlblRlc3QpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcInJlY29yZHJlY29yZHJlY29yZHJlY29yZFwiLHJlY29yZCk7XG5cbiAgICAgICAgcmVjb3JkLmRhdGFWYWx1ZXNbXCJ0b2tlblRlc3RcIl0gPSB0b2tlblRlc3Q7XG4gICAgICAgIHJlcy5qc29uKHJlY29yZCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBuZXh0KFwiaW52YWxpZCBzaWdudXBcIilcbiAgICB9XG59XG5cbiJdfQ==