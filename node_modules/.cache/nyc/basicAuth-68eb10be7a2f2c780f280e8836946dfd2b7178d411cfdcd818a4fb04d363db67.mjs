// 'use strict';
// import base64 from 'base-64'
// export const basicAuth = (UserSchema) => (req, res, next) => {
//     // console.log("============test",req.headers['authorization']);
//     if (!req.headers['authorization']) {
//         next('No Authorization info');
//         return;
//     }
//     const basicHeaderParts = req.headers.authorization.split(' '); 
//     const encoded = basicHeaderParts.pop();
//     const decoded = base64.decode(encoded); 
//     const [username, password] = decoded.split(":"); 
//     UserSchema.authenticateBasic(username, password).then(validUser=> {
//         req.user = validUser;
//         next();
//     }).catch(err=> next('invalid users'));
// }
function cov_5bubep8f5(){var path="/home/thaerbraizat/back-end/middleware/basicAuth.mjs";var hash="a0100ea46a99e5af4cd8c6308295f114c103882f";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/thaerbraizat/back-end/middleware/basicAuth.mjs",statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a0100ea46a99e5af4cd8c6308295f114c103882f"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_5bubep8f5=function(){return actualCoverage;};}return actualCoverage;}cov_5bubep8f5();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhc2ljQXV0aC5tanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTt1bEJBTFkiLCJzb3VyY2VzQ29udGVudCI6WyIvLyAndXNlIHN0cmljdCc7XG5cbi8vIGltcG9ydCBiYXNlNjQgZnJvbSAnYmFzZS02NCdcblxuLy8gZXhwb3J0IGNvbnN0IGJhc2ljQXV0aCA9IChVc2VyU2NoZW1hKSA9PiAocmVxLCByZXMsIG5leHQpID0+IHtcbi8vICAgICAvLyBjb25zb2xlLmxvZyhcIj09PT09PT09PT09PXRlc3RcIixyZXEuaGVhZGVyc1snYXV0aG9yaXphdGlvbiddKTtcbi8vICAgICBpZiAoIXJlcS5oZWFkZXJzWydhdXRob3JpemF0aW9uJ10pIHtcbi8vICAgICAgICAgbmV4dCgnTm8gQXV0aG9yaXphdGlvbiBpbmZvJyk7XG4vLyAgICAgICAgIHJldHVybjtcbi8vICAgICB9XG4vLyAgICAgY29uc3QgYmFzaWNIZWFkZXJQYXJ0cyA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24uc3BsaXQoJyAnKTsgXG4vLyAgICAgY29uc3QgZW5jb2RlZCA9IGJhc2ljSGVhZGVyUGFydHMucG9wKCk7XG4vLyAgICAgY29uc3QgZGVjb2RlZCA9IGJhc2U2NC5kZWNvZGUoZW5jb2RlZCk7IFxuLy8gICAgIGNvbnN0IFt1c2VybmFtZSwgcGFzc3dvcmRdID0gZGVjb2RlZC5zcGxpdChcIjpcIik7IFxuICAgXG4gICAgXG4vLyAgICAgVXNlclNjaGVtYS5hdXRoZW50aWNhdGVCYXNpYyh1c2VybmFtZSwgcGFzc3dvcmQpLnRoZW4odmFsaWRVc2VyPT4ge1xuLy8gICAgICAgICByZXEudXNlciA9IHZhbGlkVXNlcjtcbi8vICAgICAgICAgbmV4dCgpO1xuLy8gICAgIH0pLmNhdGNoKGVycj0+IG5leHQoJ2ludmFsaWQgdXNlcnMnKSk7XG4vLyB9Il19