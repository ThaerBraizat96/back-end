function cov_1070rbzr5z(){var path="/home/thaerbraizat/back-end/controllers/posts.controller.mjs";var hash="442df4d98becd949f9b6c5943c32b26abca71909";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/thaerbraizat/back-end/controllers/posts.controller.mjs",statementMap:{"0":{start:{line:3,column:23},end:{line:14,column:1}},"1":{start:{line:4,column:2},end:{line:13,column:3}},"2":{start:{line:5,column:17},end:{line:9,column:6}},"3":{start:{line:10,column:4},end:{line:10,column:19}},"4":{start:{line:12,column:4},end:{line:12,column:30}},"5":{start:{line:16,column:27},end:{line:19,column:1}},"6":{start:{line:17,column:18},end:{line:17,column:43}},"7":{start:{line:18,column:2},end:{line:18,column:20}},"8":{start:{line:21,column:32},end:{line:25,column:1}},"9":{start:{line:22,column:17},end:{line:22,column:34}},"10":{start:{line:23,column:16},end:{line:23,column:70}},"11":{start:{line:24,column:2},end:{line:24,column:18}},"12":{start:{line:27,column:26},end:{line:47,column:1}},"13":{start:{line:28,column:13},end:{line:28,column:36}},"14":{start:{line:29,column:18},end:{line:29,column:33}},"15":{start:{line:30,column:18},end:{line:40,column:3}},"16":{start:{line:41,column:2},end:{line:45,column:3}},"17":{start:{line:42,column:2},end:{line:42,column:30}},"18":{start:{line:44,column:4},end:{line:44,column:35}},"19":{start:{line:49,column:26},end:{line:58,column:1}},"20":{start:{line:50,column:13},end:{line:50,column:36}},"21":{start:{line:51,column:16},end:{line:51,column:62}},"22":{start:{line:52,column:2},end:{line:57,column:3}},"23":{start:{line:53,column:4},end:{line:53,column:51}},"24":{start:{line:54,column:4},end:{line:54,column:32}},"25":{start:{line:56,column:4},end:{line:56,column:28}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:3,column:23},end:{line:3,column:24}},loc:{start:{line:3,column:43},end:{line:14,column:1}},line:3},"1":{name:"(anonymous_1)",decl:{start:{line:16,column:27},end:{line:16,column:28}},loc:{start:{line:16,column:47},end:{line:19,column:1}},line:16},"2":{name:"(anonymous_2)",decl:{start:{line:21,column:32},end:{line:21,column:33}},loc:{start:{line:21,column:52},end:{line:25,column:1}},line:21},"3":{name:"(anonymous_3)",decl:{start:{line:27,column:26},end:{line:27,column:27}},loc:{start:{line:27,column:46},end:{line:47,column:1}},line:27},"4":{name:"(anonymous_4)",decl:{start:{line:49,column:26},end:{line:49,column:27}},loc:{start:{line:49,column:46},end:{line:58,column:1}},line:49}},branchMap:{"0":{loc:{start:{line:41,column:2},end:{line:45,column:3}},type:"if",locations:[{start:{line:41,column:2},end:{line:45,column:3}},{start:{line:41,column:2},end:{line:45,column:3}}],line:41},"1":{loc:{start:{line:52,column:2},end:{line:57,column:3}},type:"if",locations:[{start:{line:52,column:2},end:{line:57,column:3}},{start:{line:52,column:2},end:{line:57,column:3}}],line:52}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"442df4d98becd949f9b6c5943c32b26abca71909"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1070rbzr5z=function(){return actualCoverage;};}return actualCoverage;}cov_1070rbzr5z();import{postModel}from"../models/index.mjs";cov_1070rbzr5z().s[0]++;export const addPost=async(req,res)=>{cov_1070rbzr5z().f[0]++;cov_1070rbzr5z().s[1]++;try{const note=(cov_1070rbzr5z().s[2]++,await postModel.create({body:req.body.body,title:req.body.title,userId:req.user.userId}));cov_1070rbzr5z().s[3]++;res.json(note);}catch{cov_1070rbzr5z().s[4]++;res.json("Cant add post");}};cov_1070rbzr5z().s[5]++;export const getAllPosts=async(req,res)=>{cov_1070rbzr5z().f[1]++;const allData=(cov_1070rbzr5z().s[6]++,await postModel.findAll());cov_1070rbzr5z().s[7]++;res.json(allData);};cov_1070rbzr5z().s[8]++;export const getPostsByUserId=async(req,res)=>{cov_1070rbzr5z().f[2]++;const userId=(cov_1070rbzr5z().s[9]++,req.params.userId);const notes=(cov_1070rbzr5z().s[10]++,await postModel.findAll({where:{userId:userId}}));cov_1070rbzr5z().s[11]++;res.json(notes);};cov_1070rbzr5z().s[12]++;export const updatePost=async(req,res)=>{cov_1070rbzr5z().f[3]++;const id=(cov_1070rbzr5z().s[13]++,parseInt(req.params.id));const userId=(cov_1070rbzr5z().s[14]++,req.user.userId);const updated=(cov_1070rbzr5z().s[15]++,await postModel.update({body:req.body.body,title:req.body.title,id:id,userId:userId},{where:{id:id}}));cov_1070rbzr5z().s[16]++;if(updated[0]>0){cov_1070rbzr5z().b[0][0]++;cov_1070rbzr5z().s[17]++;res.json("post updated !!");}else{cov_1070rbzr5z().b[0][1]++;cov_1070rbzr5z().s[18]++;res.json("cant find your post");}};cov_1070rbzr5z().s[19]++;export const deletePost=async(req,res)=>{cov_1070rbzr5z().f[4]++;const id=(cov_1070rbzr5z().s[20]++,parseInt(req.params.id));const valid=(cov_1070rbzr5z().s[21]++,await postModel.findAll({where:{id:id}}));cov_1070rbzr5z().s[22]++;if(valid.length!=0){cov_1070rbzr5z().b[1][0]++;cov_1070rbzr5z().s[23]++;await postModel.destroy({where:{id:id}});cov_1070rbzr5z().s[24]++;res.json("post deleted !!");}else{cov_1070rbzr5z().b[1][1]++;cov_1070rbzr5z().s[25]++;res.json("Cant delete");}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3RzLmNvbnRyb2xsZXIubWpzIl0sIm5hbWVzIjpbInBvc3RNb2RlbCIsImFkZFBvc3QiLCJyZXEiLCJyZXMiLCJub3RlIiwiY3JlYXRlIiwiYm9keSIsInRpdGxlIiwidXNlcklkIiwidXNlciIsImpzb24iLCJnZXRBbGxQb3N0cyIsImFsbERhdGEiLCJmaW5kQWxsIiwiZ2V0UG9zdHNCeVVzZXJJZCIsInBhcmFtcyIsIm5vdGVzIiwid2hlcmUiLCJ1cGRhdGVQb3N0IiwiaWQiLCJwYXJzZUludCIsInVwZGF0ZWQiLCJ1cGRhdGUiLCJkZWxldGVQb3N0IiwidmFsaWQiLCJsZW5ndGgiLCJkZXN0cm95Il0sIm1hcHBpbmdzIjoiNnpHQWVZOzJGQWZaLE9BQVNBLFNBQVQsS0FBMEIscUJBQTFCLEMsd0JBRUEsTUFBTyxNQUFNQyxDQUFBQSxPQUFPLENBQUcsTUFBT0MsR0FBUCxDQUFZQyxHQUFaLEdBQW9CLGlEQUN6QyxHQUFJLENBQ0YsS0FBTUMsQ0FBQUEsSUFBSSwwQkFBRyxLQUFNSixDQUFBQSxTQUFTLENBQUNLLE1BQVYsQ0FBaUIsQ0FDbENDLElBQUksQ0FBRUosR0FBRyxDQUFDSSxJQUFKLENBQVNBLElBRG1CLENBRWxDQyxLQUFLLENBQUVMLEdBQUcsQ0FBQ0ksSUFBSixDQUFTQyxLQUZrQixDQUdsQ0MsTUFBTSxDQUFFTixHQUFHLENBQUNPLElBQUosQ0FBU0QsTUFIaUIsQ0FBakIsQ0FBVCxDQUFWLENBREUsd0JBTUZMLEdBQUcsQ0FBQ08sSUFBSixDQUFTTixJQUFULEVBQ0QsQ0FBQyxLQUFNLHlCQUNORCxHQUFHLENBQUNPLElBQUosQ0FBUyxlQUFULEVBQ0QsQ0FDRixDQVhNLEMsd0JBYVAsTUFBTyxNQUFNQyxDQUFBQSxXQUFXLENBQUcsTUFBT1QsR0FBUCxDQUFZQyxHQUFaLEdBQW9CLHlCQUM3QyxLQUFNUyxDQUFBQSxPQUFPLDBCQUFHLEtBQU1aLENBQUFBLFNBQVMsQ0FBQ2EsT0FBVixFQUFULENBQWIsQ0FENkMsd0JBRTdDVixHQUFHLENBQUNPLElBQUosQ0FBU0UsT0FBVCxFQUNELENBSE0sQyx3QkFLUCxNQUFPLE1BQU1FLENBQUFBLGdCQUFnQixDQUFHLE1BQU9aLEdBQVAsQ0FBWUMsR0FBWixHQUFvQix5QkFDbEQsS0FBTUssQ0FBQUEsTUFBTSwwQkFBR04sR0FBRyxDQUFDYSxNQUFKLENBQVdQLE1BQWQsQ0FBWixDQUNBLEtBQU1RLENBQUFBLEtBQUssMkJBQUcsS0FBTWhCLENBQUFBLFNBQVMsQ0FBQ2EsT0FBVixDQUFrQixDQUFFSSxLQUFLLENBQUUsQ0FBRVQsTUFBTSxDQUFFQSxNQUFWLENBQVQsQ0FBbEIsQ0FBVCxDQUFYLENBRmtELHlCQUdsREwsR0FBRyxDQUFDTyxJQUFKLENBQVNNLEtBQVQsRUFDRCxDQUpNLEMseUJBTVAsTUFBTyxNQUFNRSxDQUFBQSxVQUFVLENBQUcsTUFBT2hCLEdBQVAsQ0FBWUMsR0FBWixHQUFvQix5QkFDNUMsS0FBTWdCLENBQUFBLEVBQUUsMkJBQUdDLFFBQVEsQ0FBQ2xCLEdBQUcsQ0FBQ2EsTUFBSixDQUFXSSxFQUFaLENBQVgsQ0FBUixDQUNBLEtBQU1YLENBQUFBLE1BQU0sMkJBQUlOLEdBQUcsQ0FBQ08sSUFBSixDQUFTRCxNQUFiLENBQVosQ0FDQSxLQUFNYSxDQUFBQSxPQUFPLDJCQUFHLEtBQU1yQixDQUFBQSxTQUFTLENBQUNzQixNQUFWLENBQ3BCLENBQ0VoQixJQUFJLENBQUVKLEdBQUcsQ0FBQ0ksSUFBSixDQUFTQSxJQURqQixDQUVFQyxLQUFLLENBQUVMLEdBQUcsQ0FBQ0ksSUFBSixDQUFTQyxLQUZsQixDQUdFWSxFQUFFLENBQUVBLEVBSE4sQ0FJRVgsTUFBTSxDQUFFQSxNQUpWLENBRG9CLENBT3BCLENBQ0VTLEtBQUssQ0FBRSxDQUFFRSxFQUFFLENBQUVBLEVBQU4sQ0FEVCxDQVBvQixDQUFULENBQWIsQ0FINEMseUJBYzVDLEdBQUdFLE9BQU8sQ0FBQyxDQUFELENBQVAsQ0FBWSxDQUFmLENBQWlCLHFEQUNqQmxCLEdBQUcsQ0FBQ08sSUFBSixDQUFTLGlCQUFULEVBQ0MsQ0FGRCxJQUVLLHFEQUNIUCxHQUFHLENBQUNPLElBQUosQ0FBUyxxQkFBVCxFQUNELENBRUYsQ0FwQk0sQyx5QkFzQlAsTUFBTyxNQUFNYSxDQUFBQSxVQUFVLENBQUcsTUFBT3JCLEdBQVAsQ0FBWUMsR0FBWixHQUFvQix5QkFDNUMsS0FBTWdCLENBQUFBLEVBQUUsMkJBQUdDLFFBQVEsQ0FBQ2xCLEdBQUcsQ0FBQ2EsTUFBSixDQUFXSSxFQUFaLENBQVgsQ0FBUixDQUNBLEtBQU1LLENBQUFBLEtBQUssMkJBQUcsS0FBTXhCLENBQUFBLFNBQVMsQ0FBQ2EsT0FBVixDQUFrQixDQUFFSSxLQUFLLENBQUUsQ0FBRUUsRUFBRSxDQUFFQSxFQUFOLENBQVQsQ0FBbEIsQ0FBVCxDQUFYLENBRjRDLHlCQUc1QyxHQUFJSyxLQUFLLENBQUNDLE1BQU4sRUFBZ0IsQ0FBcEIsQ0FBdUIscURBQ3JCLEtBQU16QixDQUFBQSxTQUFTLENBQUMwQixPQUFWLENBQWtCLENBQUVULEtBQUssQ0FBRSxDQUFFRSxFQUFFLENBQUVBLEVBQU4sQ0FBVCxDQUFsQixDQUFOLENBRHFCLHlCQUVyQmhCLEdBQUcsQ0FBQ08sSUFBSixDQUFTLGlCQUFULEVBQ0QsQ0FIRCxJQUdPLHFEQUNMUCxHQUFHLENBQUNPLElBQUosQ0FBUyxhQUFULEVBQ0QsQ0FDRixDQVRNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcG9zdE1vZGVsIH0gZnJvbSBcIi4uL21vZGVscy9pbmRleC5tanNcIjtcblxuZXhwb3J0IGNvbnN0IGFkZFBvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBub3RlID0gYXdhaXQgcG9zdE1vZGVsLmNyZWF0ZSh7XG4gICAgICBib2R5OiByZXEuYm9keS5ib2R5LFxuICAgICAgdGl0bGU6IHJlcS5ib2R5LnRpdGxlLFxuICAgICAgdXNlcklkOiByZXEudXNlci51c2VySWQsXG4gICAgfSk7XG4gICAgcmVzLmpzb24obm90ZSk7XG4gIH0gY2F0Y2gge1xuICAgIHJlcy5qc29uKFwiQ2FudCBhZGQgcG9zdFwiKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdldEFsbFBvc3RzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IGFsbERhdGEgPSBhd2FpdCBwb3N0TW9kZWwuZmluZEFsbCgpO1xuICByZXMuanNvbihhbGxEYXRhKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRQb3N0c0J5VXNlcklkID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHVzZXJJZCA9IHJlcS5wYXJhbXMudXNlcklkO1xuICBjb25zdCBub3RlcyA9IGF3YWl0IHBvc3RNb2RlbC5maW5kQWxsKHsgd2hlcmU6IHsgdXNlcklkOiB1c2VySWQgfSB9KTtcbiAgcmVzLmpzb24obm90ZXMpO1xufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVBvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgaWQgPSBwYXJzZUludChyZXEucGFyYW1zLmlkKTtcbiAgY29uc3QgdXNlcklkICA9IHJlcS51c2VyLnVzZXJJZDtcbiAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IHBvc3RNb2RlbC51cGRhdGUoXG4gICAge1xuICAgICAgYm9keTogcmVxLmJvZHkuYm9keSxcbiAgICAgIHRpdGxlOiByZXEuYm9keS50aXRsZSxcbiAgICAgIGlkOiBpZCxcbiAgICAgIHVzZXJJZDogdXNlcklkLFxuICAgIH0sXG4gICAge1xuICAgICAgd2hlcmU6IHsgaWQ6IGlkIH0sXG4gICAgfVxuICApO1xuICBpZih1cGRhdGVkWzBdPiAwKXtcbiAgcmVzLmpzb24oXCJwb3N0IHVwZGF0ZWQgISFcIik7XG4gIH1lbHNle1xuICAgIHJlcy5qc29uKFwiY2FudCBmaW5kIHlvdXIgcG9zdFwiKVxuICB9XG4gXG59O1xuXG5leHBvcnQgY29uc3QgZGVsZXRlUG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBpZCA9IHBhcnNlSW50KHJlcS5wYXJhbXMuaWQpO1xuICBjb25zdCB2YWxpZCA9IGF3YWl0IHBvc3RNb2RlbC5maW5kQWxsKHsgd2hlcmU6IHsgaWQ6IGlkIH0gfSk7XG4gIGlmICh2YWxpZC5sZW5ndGggIT0gMCkge1xuICAgIGF3YWl0IHBvc3RNb2RlbC5kZXN0cm95KHsgd2hlcmU6IHsgaWQ6IGlkIH0gfSk7XG4gICAgcmVzLmpzb24oXCJwb3N0IGRlbGV0ZWQgISFcIik7XG4gIH0gZWxzZSB7XG4gICAgcmVzLmpzb24oXCJDYW50IGRlbGV0ZVwiKTtcbiAgfVxufTtcbiJdfQ==