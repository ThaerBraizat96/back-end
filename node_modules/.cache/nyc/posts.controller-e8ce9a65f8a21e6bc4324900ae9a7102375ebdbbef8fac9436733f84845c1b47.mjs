function cov_1070rbzr5z(){var path="/home/thaerbraizat/back-end/controllers/posts.controller.mjs";var hash="f6a96fe698a348e991024d9862a7635f64ea8728";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/thaerbraizat/back-end/controllers/posts.controller.mjs",statementMap:{"0":{start:{line:3,column:23},end:{line:18,column:1}},"1":{start:{line:4,column:2},end:{line:17,column:3}},"2":{start:{line:5,column:4},end:{line:5,column:61}},"3":{start:{line:6,column:4},end:{line:6,column:65}},"4":{start:{line:7,column:17},end:{line:11,column:6}},"5":{start:{line:13,column:4},end:{line:13,column:19}},"6":{start:{line:15,column:4},end:{line:15,column:65}},"7":{start:{line:16,column:4},end:{line:16,column:30}},"8":{start:{line:20,column:27},end:{line:23,column:1}},"9":{start:{line:21,column:18},end:{line:21,column:43}},"10":{start:{line:22,column:2},end:{line:22,column:20}},"11":{start:{line:25,column:32},end:{line:35,column:1}},"12":{start:{line:27,column:17},end:{line:27,column:34}},"13":{start:{line:28,column:16},end:{line:28,column:70}},"14":{start:{line:29,column:2},end:{line:29,column:18}},"15":{start:{line:37,column:26},end:{line:60,column:1}},"16":{start:{line:38,column:13},end:{line:38,column:36}},"17":{start:{line:39,column:18},end:{line:39,column:33}},"18":{start:{line:40,column:2},end:{line:40,column:36}},"19":{start:{line:41,column:18},end:{line:51,column:3}},"20":{start:{line:52,column:2},end:{line:56,column:3}},"21":{start:{line:53,column:2},end:{line:53,column:30}},"22":{start:{line:55,column:4},end:{line:55,column:35}},"23":{start:{line:62,column:26},end:{line:72,column:1}},"24":{start:{line:63,column:13},end:{line:63,column:36}},"25":{start:{line:64,column:16},end:{line:64,column:62}},"26":{start:{line:65,column:2},end:{line:65,column:67}},"27":{start:{line:66,column:2},end:{line:71,column:3}},"28":{start:{line:67,column:4},end:{line:67,column:51}},"29":{start:{line:68,column:4},end:{line:68,column:32}},"30":{start:{line:70,column:4},end:{line:70,column:28}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:3,column:23},end:{line:3,column:24}},loc:{start:{line:3,column:43},end:{line:18,column:1}},line:3},"1":{name:"(anonymous_1)",decl:{start:{line:20,column:27},end:{line:20,column:28}},loc:{start:{line:20,column:47},end:{line:23,column:1}},line:20},"2":{name:"(anonymous_2)",decl:{start:{line:25,column:32},end:{line:25,column:33}},loc:{start:{line:25,column:52},end:{line:35,column:1}},line:25},"3":{name:"(anonymous_3)",decl:{start:{line:37,column:26},end:{line:37,column:27}},loc:{start:{line:37,column:46},end:{line:60,column:1}},line:37},"4":{name:"(anonymous_4)",decl:{start:{line:62,column:26},end:{line:62,column:27}},loc:{start:{line:62,column:46},end:{line:72,column:1}},line:62}},branchMap:{"0":{loc:{start:{line:52,column:2},end:{line:56,column:3}},type:"if",locations:[{start:{line:52,column:2},end:{line:56,column:3}},{start:{line:52,column:2},end:{line:56,column:3}}],line:52},"1":{loc:{start:{line:66,column:2},end:{line:71,column:3}},type:"if",locations:[{start:{line:66,column:2},end:{line:71,column:3}},{start:{line:66,column:2},end:{line:71,column:3}}],line:66}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f6a96fe698a348e991024d9862a7635f64ea8728"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1070rbzr5z=function(){return actualCoverage;};}return actualCoverage;}cov_1070rbzr5z();import{postModel}from"../models/index.mjs";cov_1070rbzr5z().s[0]++;export const addPost=async(req,res)=>{cov_1070rbzr5z().f[0]++;cov_1070rbzr5z().s[1]++;try{cov_1070rbzr5z().s[2]++;console.log("reqqqqqqqqqqqqqqqqqqqqqq",req.user.userId);cov_1070rbzr5z().s[3]++;console.log("23121231231231231231231231233",req.body.userId);const note=(cov_1070rbzr5z().s[4]++,await postModel.create({body:req.body.body,title:req.body.title,userId:req.user.userId}));// req.body.userId = 1;
cov_1070rbzr5z().s[5]++;res.json(note);}catch{cov_1070rbzr5z().s[6]++;console.log("23121231231231231231231231233",req.body.userId);cov_1070rbzr5z().s[7]++;res.json("Cant add post");}};cov_1070rbzr5z().s[8]++;export const getAllPosts=async(req,res)=>{cov_1070rbzr5z().f[1]++;const allData=(cov_1070rbzr5z().s[9]++,await postModel.findAll());cov_1070rbzr5z().s[10]++;res.json(allData);};cov_1070rbzr5z().s[11]++;export const getPostsByUserId=async(req,res)=>{cov_1070rbzr5z().f[2]++;// try {
const userId=(cov_1070rbzr5z().s[12]++,req.params.userId);const notes=(cov_1070rbzr5z().s[13]++,await postModel.findAll({where:{userId:userId}}));cov_1070rbzr5z().s[14]++;res.json(notes);// }
// catch {
//   res.json("Cant get  posts");
// }
};cov_1070rbzr5z().s[15]++;export const updatePost=async(req,res)=>{cov_1070rbzr5z().f[3]++;const id=(cov_1070rbzr5z().s[16]++,parseInt(req.params.id));const userId=(cov_1070rbzr5z().s[17]++,req.user.userId);cov_1070rbzr5z().s[18]++;console.log("test update",userId);const updated=(cov_1070rbzr5z().s[19]++,await postModel.update({body:req.body.body,title:req.body.title,id:id,userId:userId},{where:{id:id}}));cov_1070rbzr5z().s[20]++;if(updated[0]>0){cov_1070rbzr5z().b[0][0]++;cov_1070rbzr5z().s[21]++;res.json("post updated !!");}else{cov_1070rbzr5z().b[0][1]++;cov_1070rbzr5z().s[22]++;res.json("cant find your post");}// catch {
//   res.json("wrong update");
// }
};cov_1070rbzr5z().s[23]++;export const deletePost=async(req,res)=>{cov_1070rbzr5z().f[4]++;const id=(cov_1070rbzr5z().s[24]++,parseInt(req.params.id));const valid=(cov_1070rbzr5z().s[25]++,await postModel.findAll({where:{id:id}}));cov_1070rbzr5z().s[26]++;console.log("valllllllllllllllllllllllllllllllll",valid.length);cov_1070rbzr5z().s[27]++;if(valid.length!=0){cov_1070rbzr5z().b[1][0]++;cov_1070rbzr5z().s[28]++;await postModel.destroy({where:{id:id}});cov_1070rbzr5z().s[29]++;res.json("post deleted !!");}else{cov_1070rbzr5z().b[1][1]++;cov_1070rbzr5z().s[30]++;res.json("Cant delete");}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3RzLmNvbnRyb2xsZXIubWpzIl0sIm5hbWVzIjpbInBvc3RNb2RlbCIsImFkZFBvc3QiLCJyZXEiLCJyZXMiLCJjb25zb2xlIiwibG9nIiwidXNlciIsInVzZXJJZCIsImJvZHkiLCJub3RlIiwiY3JlYXRlIiwidGl0bGUiLCJqc29uIiwiZ2V0QWxsUG9zdHMiLCJhbGxEYXRhIiwiZmluZEFsbCIsImdldFBvc3RzQnlVc2VySWQiLCJwYXJhbXMiLCJub3RlcyIsIndoZXJlIiwidXBkYXRlUG9zdCIsImlkIiwicGFyc2VJbnQiLCJ1cGRhdGVkIiwidXBkYXRlIiwiZGVsZXRlUG9zdCIsInZhbGlkIiwibGVuZ3RoIiwiZGVzdHJveSJdLCJtYXBwaW5ncyI6InFuSEFlWTsyRkFmWixPQUFTQSxTQUFULEtBQTBCLHFCQUExQixDLHdCQUVBLE1BQU8sTUFBTUMsQ0FBQUEsT0FBTyxDQUFHLE1BQU9DLEdBQVAsQ0FBWUMsR0FBWixHQUFvQixpREFDekMsR0FBSSx5QkFDRkMsT0FBTyxDQUFDQyxHQUFSLENBQVksMEJBQVosQ0FBd0NILEdBQUcsQ0FBQ0ksSUFBSixDQUFTQyxNQUFqRCxFQURFLHdCQUVGSCxPQUFPLENBQUNDLEdBQVIsQ0FBWSwrQkFBWixDQUE0Q0gsR0FBRyxDQUFDTSxJQUFKLENBQVNELE1BQXJELEVBQ0EsS0FBTUUsQ0FBQUEsSUFBSSwwQkFBRyxLQUFNVCxDQUFBQSxTQUFTLENBQUNVLE1BQVYsQ0FBaUIsQ0FDbENGLElBQUksQ0FBRU4sR0FBRyxDQUFDTSxJQUFKLENBQVNBLElBRG1CLENBRWxDRyxLQUFLLENBQUVULEdBQUcsQ0FBQ00sSUFBSixDQUFTRyxLQUZrQixDQUdsQ0osTUFBTSxDQUFFTCxHQUFHLENBQUNJLElBQUosQ0FBU0MsTUFIaUIsQ0FBakIsQ0FBVCxDQUFWLENBS0E7QUFSRSx3QkFTRkosR0FBRyxDQUFDUyxJQUFKLENBQVNILElBQVQsRUFDRCxDQUFDLEtBQU0seUJBQ05MLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLCtCQUFaLENBQTRDSCxHQUFHLENBQUNNLElBQUosQ0FBU0QsTUFBckQsRUFETSx3QkFFTkosR0FBRyxDQUFDUyxJQUFKLENBQVMsZUFBVCxFQUNELENBQ0YsQ0FmTSxDLHdCQWlCUCxNQUFPLE1BQU1DLENBQUFBLFdBQVcsQ0FBRyxNQUFPWCxHQUFQLENBQVlDLEdBQVosR0FBb0IseUJBQzdDLEtBQU1XLENBQUFBLE9BQU8sMEJBQUcsS0FBTWQsQ0FBQUEsU0FBUyxDQUFDZSxPQUFWLEVBQVQsQ0FBYixDQUQ2Qyx5QkFFN0NaLEdBQUcsQ0FBQ1MsSUFBSixDQUFTRSxPQUFULEVBQ0QsQ0FITSxDLHlCQUtQLE1BQU8sTUFBTUUsQ0FBQUEsZ0JBQWdCLENBQUcsTUFBT2QsR0FBUCxDQUFZQyxHQUFaLEdBQW9CLHlCQUNsRDtBQUNBLEtBQU1JLENBQUFBLE1BQU0sMkJBQUdMLEdBQUcsQ0FBQ2UsTUFBSixDQUFXVixNQUFkLENBQVosQ0FDQSxLQUFNVyxDQUFBQSxLQUFLLDJCQUFHLEtBQU1sQixDQUFBQSxTQUFTLENBQUNlLE9BQVYsQ0FBa0IsQ0FBRUksS0FBSyxDQUFFLENBQUVaLE1BQU0sQ0FBRUEsTUFBVixDQUFULENBQWxCLENBQVQsQ0FBWCxDQUhrRCx5QkFJbERKLEdBQUcsQ0FBQ1MsSUFBSixDQUFTTSxLQUFULEVBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDRCxDQVZNLEMseUJBWVAsTUFBTyxNQUFNRSxDQUFBQSxVQUFVLENBQUcsTUFBT2xCLEdBQVAsQ0FBWUMsR0FBWixHQUFvQix5QkFDNUMsS0FBTWtCLENBQUFBLEVBQUUsMkJBQUdDLFFBQVEsQ0FBQ3BCLEdBQUcsQ0FBQ2UsTUFBSixDQUFXSSxFQUFaLENBQVgsQ0FBUixDQUNBLEtBQU1kLENBQUFBLE1BQU0sMkJBQUlMLEdBQUcsQ0FBQ0ksSUFBSixDQUFTQyxNQUFiLENBQVosQ0FGNEMseUJBRzVDSCxPQUFPLENBQUNDLEdBQVIsQ0FBWSxhQUFaLENBQTBCRSxNQUExQixFQUNBLEtBQU1nQixDQUFBQSxPQUFPLDJCQUFHLEtBQU12QixDQUFBQSxTQUFTLENBQUN3QixNQUFWLENBQ3BCLENBQ0VoQixJQUFJLENBQUVOLEdBQUcsQ0FBQ00sSUFBSixDQUFTQSxJQURqQixDQUVFRyxLQUFLLENBQUVULEdBQUcsQ0FBQ00sSUFBSixDQUFTRyxLQUZsQixDQUdFVSxFQUFFLENBQUVBLEVBSE4sQ0FJRWQsTUFBTSxDQUFFQSxNQUpWLENBRG9CLENBT3BCLENBQ0VZLEtBQUssQ0FBRSxDQUFFRSxFQUFFLENBQUVBLEVBQU4sQ0FEVCxDQVBvQixDQUFULENBQWIsQ0FKNEMseUJBZTVDLEdBQUdFLE9BQU8sQ0FBQyxDQUFELENBQVAsQ0FBWSxDQUFmLENBQWlCLHFEQUNqQnBCLEdBQUcsQ0FBQ1MsSUFBSixDQUFTLGlCQUFULEVBQ0MsQ0FGRCxJQUVLLHFEQUNIVCxHQUFHLENBQUNTLElBQUosQ0FBUyxxQkFBVCxFQUNELENBQ0Q7QUFDQTtBQUNBO0FBQ0QsQ0F2Qk0sQyx5QkF5QlAsTUFBTyxNQUFNYSxDQUFBQSxVQUFVLENBQUcsTUFBT3ZCLEdBQVAsQ0FBWUMsR0FBWixHQUFvQix5QkFDNUMsS0FBTWtCLENBQUFBLEVBQUUsMkJBQUdDLFFBQVEsQ0FBQ3BCLEdBQUcsQ0FBQ2UsTUFBSixDQUFXSSxFQUFaLENBQVgsQ0FBUixDQUNBLEtBQU1LLENBQUFBLEtBQUssMkJBQUcsS0FBTTFCLENBQUFBLFNBQVMsQ0FBQ2UsT0FBVixDQUFrQixDQUFFSSxLQUFLLENBQUUsQ0FBRUUsRUFBRSxDQUFFQSxFQUFOLENBQVQsQ0FBbEIsQ0FBVCxDQUFYLENBRjRDLHlCQUc1Q2pCLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHFDQUFaLENBQW1EcUIsS0FBSyxDQUFDQyxNQUF6RCxFQUg0Qyx5QkFJNUMsR0FBSUQsS0FBSyxDQUFDQyxNQUFOLEVBQWdCLENBQXBCLENBQXVCLHFEQUNyQixLQUFNM0IsQ0FBQUEsU0FBUyxDQUFDNEIsT0FBVixDQUFrQixDQUFFVCxLQUFLLENBQUUsQ0FBRUUsRUFBRSxDQUFFQSxFQUFOLENBQVQsQ0FBbEIsQ0FBTixDQURxQix5QkFFckJsQixHQUFHLENBQUNTLElBQUosQ0FBUyxpQkFBVCxFQUNELENBSEQsSUFHTyxxREFDTFQsR0FBRyxDQUFDUyxJQUFKLENBQVMsYUFBVCxFQUNELENBQ0YsQ0FWTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBvc3RNb2RlbCB9IGZyb20gXCIuLi9tb2RlbHMvaW5kZXgubWpzXCI7XG5cbmV4cG9ydCBjb25zdCBhZGRQb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coXCJyZXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFcIiwgcmVxLnVzZXIudXNlcklkKTtcbiAgICBjb25zb2xlLmxvZyhcIjIzMTIxMjMxMjMxMjMxMjMxMjMxMjMxMjMxMjMzXCIscmVxLmJvZHkudXNlcklkKTtcbiAgICBjb25zdCBub3RlID0gYXdhaXQgcG9zdE1vZGVsLmNyZWF0ZSh7XG4gICAgICBib2R5OiByZXEuYm9keS5ib2R5LFxuICAgICAgdGl0bGU6IHJlcS5ib2R5LnRpdGxlLFxuICAgICAgdXNlcklkOiByZXEudXNlci51c2VySWQsXG4gICAgfSk7XG4gICAgLy8gcmVxLmJvZHkudXNlcklkID0gMTtcbiAgICByZXMuanNvbihub3RlKTtcbiAgfSBjYXRjaCB7XG4gICAgY29uc29sZS5sb2coXCIyMzEyMTIzMTIzMTIzMTIzMTIzMTIzMTIzMTIzM1wiLHJlcS5ib2R5LnVzZXJJZCk7XG4gICAgcmVzLmpzb24oXCJDYW50IGFkZCBwb3N0XCIpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0QWxsUG9zdHMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgYWxsRGF0YSA9IGF3YWl0IHBvc3RNb2RlbC5maW5kQWxsKCk7XG4gIHJlcy5qc29uKGFsbERhdGEpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFBvc3RzQnlVc2VySWQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgLy8gdHJ5IHtcbiAgY29uc3QgdXNlcklkID0gcmVxLnBhcmFtcy51c2VySWQ7XG4gIGNvbnN0IG5vdGVzID0gYXdhaXQgcG9zdE1vZGVsLmZpbmRBbGwoeyB3aGVyZTogeyB1c2VySWQ6IHVzZXJJZCB9IH0pO1xuICByZXMuanNvbihub3Rlcyk7XG4gIC8vIH1cblxuICAvLyBjYXRjaCB7XG4gIC8vICAgcmVzLmpzb24oXCJDYW50IGdldCAgcG9zdHNcIik7XG4gIC8vIH1cbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVQb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IGlkID0gcGFyc2VJbnQocmVxLnBhcmFtcy5pZCk7XG4gIGNvbnN0IHVzZXJJZCAgPSByZXEudXNlci51c2VySWQ7XG4gIGNvbnNvbGUubG9nKFwidGVzdCB1cGRhdGVcIix1c2VySWQpO1xuICBjb25zdCB1cGRhdGVkID0gYXdhaXQgcG9zdE1vZGVsLnVwZGF0ZShcbiAgICB7XG4gICAgICBib2R5OiByZXEuYm9keS5ib2R5LFxuICAgICAgdGl0bGU6IHJlcS5ib2R5LnRpdGxlLFxuICAgICAgaWQ6IGlkLFxuICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgfSxcbiAgICB7XG4gICAgICB3aGVyZTogeyBpZDogaWQgfSxcbiAgICB9XG4gICk7XG4gIGlmKHVwZGF0ZWRbMF0+IDApe1xuICByZXMuanNvbihcInBvc3QgdXBkYXRlZCAhIVwiKTtcbiAgfWVsc2V7XG4gICAgcmVzLmpzb24oXCJjYW50IGZpbmQgeW91ciBwb3N0XCIpXG4gIH1cbiAgLy8gY2F0Y2gge1xuICAvLyAgIHJlcy5qc29uKFwid3JvbmcgdXBkYXRlXCIpO1xuICAvLyB9XG59O1xuXG5leHBvcnQgY29uc3QgZGVsZXRlUG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBpZCA9IHBhcnNlSW50KHJlcS5wYXJhbXMuaWQpO1xuICBjb25zdCB2YWxpZCA9IGF3YWl0IHBvc3RNb2RlbC5maW5kQWxsKHsgd2hlcmU6IHsgaWQ6IGlkIH0gfSk7XG4gIGNvbnNvbGUubG9nKFwidmFsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxcIiwgdmFsaWQubGVuZ3RoKTtcbiAgaWYgKHZhbGlkLmxlbmd0aCAhPSAwKSB7XG4gICAgYXdhaXQgcG9zdE1vZGVsLmRlc3Ryb3koeyB3aGVyZTogeyBpZDogaWQgfSB9KTtcbiAgICByZXMuanNvbihcInBvc3QgZGVsZXRlZCAhIVwiKTtcbiAgfSBlbHNlIHtcbiAgICByZXMuanNvbihcIkNhbnQgZGVsZXRlXCIpO1xuICB9XG59O1xuIl19